/*
 * Copyright (c) 2002 owasp.org.
 * This file is part of WebScarab.
 * WebScarab is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 * 
 * WebScarab is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * The valid license text for this file can be retrieved with
 * the call:   java -cp owasp.jar org.owasp.webscarab.LICENSE
 * 
 * If you are not able to view the LICENSE that way, which should
 * always be possible within a valid and working WebScarab release,
 * please write to the Free Software Foundation, Inc.,
 * 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 */

package org.owasp.webscarab.ui.swing;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowEvent;
import java.awt.event.WindowAdapter;
import java.awt.BorderLayout;
import java.awt.Color;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JTabbedPane;
import javax.swing.JTree;
import javax.swing.border.LineBorder;
import org.owasp.webscarab.ui.swing.EventRouter;
import org.owasp.webscarab.ui.swing.spider.SpiderConfigTabPane;
import org.owasp.webscarab.ui.swing.spider.SpiderTabPane;

/**
 * A simple graphical ui.
 *
 * @since 0.poc
 * @version 0.poc<br />CVS $Release$ $Author: istr $
 * @author  thp
 */
public class WebScarab extends JFrame {
    
    private JMenuBar _menuBar;
    private JMenu _fileMenu;
    private JMenuItem _openMenuItem;
    private JMenuItem _saveMenuItem;
    private JMenuItem _saveAsMenuItem;
    private JMenuItem _exitMenuItem;
    private JMenu _editMenu;
    private JMenuItem _cutMenuItem;
    private JMenuItem _copyMenuItem;
    private JMenuItem _pasteMenuItem;
    private JMenuItem _deleteMenuItem;
    private JMenu _helpMenu;
    private JMenuItem _contentsMenuItem;
    private JMenuItem _aboutMenuItem;
    private JTabbedPane _mainTabbedPane;
    private SpiderConfigTabPane _spiderConfigTabPane;
    private SpiderTabPane _spiderTabPane;
    private EventRouter _eventRouter;

    /** Creates new form WebScarab */
    public WebScarab() {
      _eventRouter = new EventRouter();
       initComponents();
        _spiderTabPane = new SpiderTabPane();
        _spiderTabPane.setEventRouter(_eventRouter);
//        _mainTabbedPane.add(_spiderConfigTabPane,"SpiderConfig");
        _mainTabbedPane.add(_spiderTabPane,"Spider");
        setSize(1000,735);
				Thread t = new Thread( _eventRouter, "EVENTROUTER" );
			t.start();				
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        _menuBar = new JMenuBar();
        _fileMenu = new JMenu();
        _openMenuItem = new JMenuItem();
        _saveMenuItem = new JMenuItem();
        _saveAsMenuItem = new JMenuItem();
        _exitMenuItem = new JMenuItem();
        _editMenu = new JMenu();
        _cutMenuItem = new JMenuItem();
        _copyMenuItem = new JMenuItem();
        _pasteMenuItem = new JMenuItem();
        _deleteMenuItem = new JMenuItem();
        _helpMenu = new JMenu();
        _contentsMenuItem = new JMenuItem();
        _aboutMenuItem = new JMenuItem();
        _mainTabbedPane = new JTabbedPane();
        
        _fileMenu.setText("File");
        _openMenuItem.setText("Open");
        _fileMenu.add(_openMenuItem);
        _saveMenuItem.setText("Save");
        _fileMenu.add(_saveMenuItem);
        _saveAsMenuItem.setText("Save As ...");
        _fileMenu.add(_saveAsMenuItem);
        _exitMenuItem.setText("Exit");
        _exitMenuItem.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evt) {
                exitMenuItemActionPerformed(evt);
            }
        });
        
        _fileMenu.add(_exitMenuItem);
        _menuBar.add(_fileMenu);
        _editMenu.setText("Edit");
        _cutMenuItem.setText("Cut");
        _editMenu.add(_cutMenuItem);
        _copyMenuItem.setText("Copy");
        _editMenu.add(_copyMenuItem);
        _pasteMenuItem.setText("Paste");
        _editMenu.add(_pasteMenuItem);
        _deleteMenuItem.setText("Delete");
        _editMenu.add(_deleteMenuItem);
        _menuBar.add(_editMenu);
        _helpMenu.setText("Help");
        _contentsMenuItem.setText("Contents");
        _helpMenu.add(_contentsMenuItem);
        _aboutMenuItem.setText("About");
        _helpMenu.add(_aboutMenuItem);
        _menuBar.add(_helpMenu);
        
        addWindowListener(new WindowAdapter() {
            public void windowClosing(WindowEvent evt) {
                exitForm(evt);
            }
        });
        
        _mainTabbedPane.setBorder(new LineBorder(Color.black));
        getContentPane().add(_mainTabbedPane, BorderLayout.CENTER);
        
        setJMenuBar(_menuBar);
        pack();
    }

    private void exitMenuItemActionPerformed(ActionEvent evt) {
        _eventRouter.halt();
        System.exit(0);
    }

    /** Exit the Application */
    private void exitForm(WindowEvent evt) { 
        _eventRouter.halt();
        System.exit(0);
    }

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
      
        new WebScarab().show();
    }

}
